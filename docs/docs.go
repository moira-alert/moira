// Code generated by swaggo/swag. DO NOT EDIT.

package docs

import "github.com/swaggo/swag/v2"

const docTemplate = `{
    "schemes": {{ marshal .Schemes }},
    "components": {"schemas":{"api.ErrorResponse":{"properties":{"error":{"description":"application-level error message, for debugging","type":"string"},"status":{"description":"user-level status message","type":"string"}},"type":"object"},"api.FeatureFlags":{"properties":{"celebrationMode":{"example":"new_year","type":"string"},"isPlottingAvailable":{"example":true,"type":"boolean"},"isPlottingDefaultOn":{"example":false,"type":"boolean"},"isReadonlyEnabled":{"example":false,"type":"boolean"},"isSubscriptionToAllTagsAvailable":{"example":false,"type":"boolean"}},"type":"object"},"api.MetricSourceCluster":{"properties":{"cluster_id":{"example":"default","type":"string"},"cluster_name":{"example":"Graphite Remote Prod","type":"string"},"trigger_source":{"example":"graphite_remote","type":"string"}},"type":"object"},"api.Sentry":{"properties":{"dsn":{"example":"https://secret@sentry.host","type":"string"},"platform":{"example":"dev","type":"string"}},"type":"object"},"api.WebConfig":{"properties":{"contacts":{"items":{"$ref":"#/components/schemas/api.WebContact"},"type":"array","uniqueItems":false},"featureFlags":{"$ref":"#/components/schemas/api.FeatureFlags"},"metric_source_clusters":{"items":{"$ref":"#/components/schemas/api.MetricSourceCluster"},"type":"array","uniqueItems":false},"remoteAllowed":{"example":true,"type":"boolean"},"sentry":{"$ref":"#/components/schemas/api.Sentry"},"supportEmail":{"example":"kontur.moira.alert@gmail.com","type":"string"}},"type":"object"},"api.WebContact":{"properties":{"help":{"example":"### Domains whitelist:\n - moira.ru\n","type":"string"},"label":{"example":"Webhook","type":"string"},"logo_uri":{"example":"discord-logo.svg","type":"string"},"placeholder":{"example":"https://moira.ru/webhooks","type":"string"},"type":{"example":"webhook","type":"string"},"validation":{"example":"^(http|https):\\/\\/.*(moira.ru)(:[0-9]{2,5})?\\/","type":"string"}},"type":"object"},"dto.Contact":{"properties":{"id":{"example":"1dd38765-c5be-418d-81fa-7a5f879c2315","type":"string"},"name":{"example":"Mail Alerts","type":"string"},"team_id":{"type":"string"},"type":{"example":"mail","type":"string"},"user":{"example":"","type":"string"},"value":{"example":"devops@example.com","type":"string"}},"type":"object"},"dto.ContactEventItem":{"properties":{"metric":{"type":"string"},"old_state":{"type":"string"},"state":{"type":"string"},"timestamp":{"format":"int64","type":"integer"},"trigger_id":{"type":"string"}},"type":"object"},"dto.ContactEventItemList":{"properties":{"list":{"items":{"$ref":"#/components/schemas/dto.ContactEventItem"},"type":"array","uniqueItems":false}},"type":"object"},"dto.ContactList":{"properties":{"list":{"items":{"$ref":"#/components/schemas/moira.ContactData"},"type":"array","uniqueItems":false}},"type":"object"},"dto.EventsList":{"properties":{"list":{"items":{"$ref":"#/components/schemas/moira.NotificationEvent"},"type":"array","uniqueItems":false},"page":{"example":0,"format":"int64","type":"integer"},"size":{"example":100,"format":"int64","type":"integer"},"total":{"example":10,"format":"int64","type":"integer"}},"type":"object"},"dto.MessageResponse":{"properties":{"message":{"example":"tag deleted","type":"string"}},"type":"object"},"dto.NotificationDeleteResponse":{"properties":{"result":{"example":0,"format":"int64","type":"integer"}},"type":"object"},"dto.NotificationsList":{"properties":{"list":{"items":{"$ref":"#/components/schemas/moira.ScheduledNotification"},"type":"array","uniqueItems":false},"total":{"example":0,"format":"int64","type":"integer"}},"type":"object"},"dto.NotifierState":{"properties":{"message":{"example":"Moira has been turned off for maintenance","type":"string"},"state":{"example":"ERROR","type":"string"}},"type":"object"},"dto.PatternData":{"properties":{"metrics":{"example":["DevOps.my_server.hdd.freespace_mbytes"," DevOps.my_server.hdd.freespace_mbytes"," DevOps.my_server.db.*"],"items":{"type":"string"},"type":"array","uniqueItems":false},"pattern":{"example":"Devops.my_server.*","type":"string"},"triggers":{"items":{"$ref":"#/components/schemas/dto.TriggerModel"},"type":"array","uniqueItems":false}},"type":"object"},"dto.PatternList":{"properties":{"list":{"items":{"$ref":"#/components/schemas/dto.PatternData"},"type":"array","uniqueItems":false}},"type":"object"},"dto.PatternMetrics":{"properties":{"metrics":{"additionalProperties":{"items":{"$ref":"#/components/schemas/moira.MetricValue"},"type":"array"},"type":"object"},"pattern":{"type":"string"},"retention":{"additionalProperties":{"type":"integer"},"type":"object"}},"type":"object"},"dto.ProblemOfTarget":{"properties":{"argument":{"example":"consolidateBy","type":"string"},"description":{"example":"This function affects only visual graph representation. It is meaningless in Moira","type":"string"},"position":{"example":0,"type":"integer"},"type":{"$ref":"#/components/schemas/dto.typeOfProblem"}},"type":"object","x-nullable":true},"dto.SaveTeamResponse":{"properties":{"id":{"example":"d5d98eb3-ee18-4f75-9364-244f67e23b54","type":"string"}},"type":"object"},"dto.SaveTriggerResponse":{"properties":{"checkResult":{"$ref":"#/components/schemas/dto.TriggerCheckResponse"},"id":{"example":"trigger_id","type":"string"},"message":{"example":"trigger created","type":"string"}},"type":"object"},"dto.Subscription":{"properties":{"any_tags":{"example":false,"type":"boolean"},"contacts":{"example":["acd2db98-1659-4a2f-b227-52d71f6e3ba1"],"items":{"type":"string"},"type":"array","uniqueItems":false},"enabled":{"example":true,"type":"boolean"},"id":{"example":"292516ed-4924-4154-a62c-ebe312431fce","type":"string"},"ignore_recoverings":{"example":false,"type":"boolean"},"ignore_warnings":{"example":false,"type":"boolean"},"plotting":{"$ref":"#/components/schemas/moira.PlottingData"},"sched":{"$ref":"#/components/schemas/moira.ScheduleData"},"tags":{"example":["server","cpu"],"items":{"type":"string"},"type":"array","uniqueItems":false},"team_id":{"example":"324516ed-4924-4154-a62c-eb124234fce","type":"string"},"throttling":{"example":false,"type":"boolean"},"user":{"example":"","type":"string"}},"type":"object"},"dto.SubscriptionList":{"properties":{"list":{"items":{"$ref":"#/components/schemas/moira.SubscriptionData"},"type":"array","uniqueItems":false}},"type":"object"},"dto.TagStatistics":{"properties":{"name":{"example":"cpu","type":"string"},"subscriptions":{"items":{"$ref":"#/components/schemas/moira.SubscriptionData"},"type":"array","uniqueItems":false},"triggers":{"example":["bcba82f5-48cf-44c0-b7d6-e1d32c64a88c"],"items":{"type":"string"},"type":"array","uniqueItems":false}},"type":"object"},"dto.TagsData":{"properties":{"list":{"example":["cpu"],"items":{"type":"string"},"type":"array","uniqueItems":false}},"type":"object"},"dto.TagsStatistics":{"properties":{"list":{"items":{"$ref":"#/components/schemas/dto.TagStatistics"},"type":"array","uniqueItems":false}},"type":"object"},"dto.TeamMembers":{"properties":{"usernames":{"example":["anonymous"],"items":{"type":"string"},"type":"array","uniqueItems":false}},"type":"object"},"dto.TeamModel":{"properties":{"description":{"example":"Team that holds all members of infrastructure division","type":"string"},"id":{"example":"d5d98eb3-ee18-4f75-9364-244f67e23b54","type":"string"},"name":{"example":"Infrastructure Team","type":"string"}},"type":"object"},"dto.TeamSettings":{"properties":{"contacts":{"items":{"$ref":"#/components/schemas/moira.ContactData"},"type":"array","uniqueItems":false},"subscriptions":{"items":{"$ref":"#/components/schemas/moira.SubscriptionData"},"type":"array","uniqueItems":false},"team_id":{"example":"d5d98eb3-ee18-4f75-9364-244f67e23b54","type":"string"}},"type":"object"},"dto.TeamsList":{"properties":{"list":{"items":{"$ref":"#/components/schemas/dto.TeamModel"},"type":"array","uniqueItems":false},"page":{"example":0,"format":"int64","type":"integer"},"size":{"example":100,"format":"int64","type":"integer"},"total":{"example":10,"format":"int64","type":"integer"}},"type":"object"},"dto.ThrottlingResponse":{"properties":{"throttling":{"example":0,"format":"int64","type":"integer"}},"type":"object"},"dto.TreeOfProblems":{"properties":{"syntax_ok":{"example":true,"type":"boolean"},"tree_of_problems":{"$ref":"#/components/schemas/dto.ProblemOfTarget"}},"type":"object"},"dto.Trigger":{"properties":{"alone_metrics":{"additionalProperties":{"type":"boolean"},"description":"A list of targets that have only alone metrics","example":{"t1":true},"type":"object"},"cluster_id":{"description":"Shows the exact cluster from where the metrics are fetched","example":"default","type":"string"},"created_at":{"description":"Datetime when the trigger was created","type":"string","x-nullable":true},"created_by":{"description":"Username who created trigger","type":"string"},"desc":{"description":"Description string","example":"check the size of /var/log","type":"string","x-nullable":true},"error_value":{"description":"ERROR threshold","example":1000,"type":"number","x-nullable":true},"expression":{"description":"Used if you need more complex logic than provided by WARN/ERROR values","example":"","type":"string"},"id":{"description":"Trigger unique ID","example":"292516ed-4924-4154-a62c-ebe312431fce","type":"string"},"is_remote":{"description":"Shows if trigger is remote (graphite-backend) based or stored inside Moira-Redis DB\n\nDeprecated: Use TriggerSource field instead","example":false,"type":"boolean"},"mute_new_metrics":{"description":"If true, first event NODATA → OK will be omitted","example":false,"type":"boolean"},"name":{"description":"Trigger name","example":"Not enough disk space left","type":"string"},"patterns":{"description":"Graphite patterns for trigger","example":[""],"items":{"type":"string"},"type":"array","uniqueItems":false},"sched":{"$ref":"#/components/schemas/moira.ScheduleData"},"tags":{"description":"Set of tags to manipulate subscriptions","example":["server","disk"],"items":{"type":"string"},"type":"array","uniqueItems":false},"targets":{"description":"Graphite-like targets: t1, t2, ...","example":["devOps.my_server.hdd.freespace_mbytes"],"items":{"type":"string"},"type":"array","uniqueItems":false},"throttling":{"example":0,"format":"int64","type":"integer"},"trigger_source":{"description":"Shows the type of source from where the metrics are fetched","example":"graphite_local","type":"string"},"trigger_type":{"description":"Could be: rising, falling, expression","example":"rising","type":"string"},"ttl":{"description":"When there are no metrics for trigger, Moira will switch metric to TTLState state after TTL seconds","example":600,"format":"int64","type":"integer"},"ttl_state":{"description":"When there are no metrics for trigger, Moira will switch metric to TTLState state after TTL seconds","example":"NODATA","type":"string","x-nullable":true},"updated_at":{"description":"Datetime  when the trigger was updated","type":"string","x-nullable":true},"updated_by":{"description":"Username who updated trigger","type":"string"},"warn_value":{"description":"WARN threshold","example":500,"type":"number","x-nullable":true}},"type":"object"},"dto.TriggerCheck":{"properties":{"event_timestamp":{"example":1590741878,"format":"int64","type":"integer"},"last_successful_check_timestamp":{"description":"LastSuccessfulCheckTimestamp - time of the last check of the trigger, during which there were no errors","example":1590741916,"format":"int64","type":"integer"},"maintenance":{"example":0,"format":"int64","type":"integer"},"maintenance_info":{"$ref":"#/components/schemas/moira.MaintenanceInfo"},"metrics":{"additionalProperties":{"$ref":"#/components/schemas/moira.MetricState"},"type":"object"},"metrics_to_target_relation":{"additionalProperties":{"type":"string"},"description":"MetricsToTargetRelation is a map that holds relation between metric names that was alone during last\ncheck and targets that fetched this metric\n\t{\"t1\": \"metric.name.1\", \"t2\": \"metric.name.2\"}","example":{"t1":"metric.name.1","t2":"metric.name.2"},"type":"object"},"msg":{"type":"string"},"score":{"example":100,"format":"int64","type":"integer"},"state":{"example":"OK","type":"string"},"suppressed":{"example":true,"type":"boolean"},"suppressed_state":{"type":"string"},"timestamp":{"description":"Timestamp - time, which means when the checker last checked this trigger, this value stops updating if the trigger does not receive metrics","example":1590741916,"format":"int64","type":"integer"},"trigger_id":{"example":"trigger_id","type":"string"}},"type":"object"},"dto.TriggerCheckResponse":{"properties":{"targets":{"description":"Graphite-like targets: t1, t2, ...","items":{"$ref":"#/components/schemas/dto.TreeOfProblems"},"type":"array","uniqueItems":false}},"type":"object"},"dto.TriggerDump":{"properties":{"created":{"type":"string"},"last_check":{"$ref":"#/components/schemas/moira.CheckData"},"metrics":{"items":{"$ref":"#/components/schemas/dto.PatternMetrics"},"type":"array","uniqueItems":false},"trigger":{"$ref":"#/components/schemas/moira.Trigger"}},"type":"object"},"dto.TriggerMaintenance":{"properties":{"metrics":{"additionalProperties":{"type":"integer"},"type":"object"},"trigger":{"example":1594225165,"format":"int64","type":"integer","x-nullable":true}},"type":"object"},"dto.TriggerMetrics":{"additionalProperties":{"additionalProperties":{"items":{"$ref":"#/components/schemas/moira.MetricValue"},"type":"array"},"type":"object"},"type":"object"},"dto.TriggerModel":{"properties":{"alone_metrics":{"additionalProperties":{"type":"boolean"},"description":"A list of targets that have only alone metrics","example":{"t1":true},"type":"object"},"cluster_id":{"description":"Shows the exact cluster from where the metrics are fetched","example":"default","type":"string"},"created_at":{"description":"Datetime when the trigger was created","type":"string","x-nullable":true},"created_by":{"description":"Username who created trigger","type":"string"},"desc":{"description":"Description string","example":"check the size of /var/log","type":"string","x-nullable":true},"error_value":{"description":"ERROR threshold","example":1000,"type":"number","x-nullable":true},"expression":{"description":"Used if you need more complex logic than provided by WARN/ERROR values","example":"","type":"string"},"id":{"description":"Trigger unique ID","example":"292516ed-4924-4154-a62c-ebe312431fce","type":"string"},"is_remote":{"description":"Shows if trigger is remote (graphite-backend) based or stored inside Moira-Redis DB\n\nDeprecated: Use TriggerSource field instead","example":false,"type":"boolean"},"mute_new_metrics":{"description":"If true, first event NODATA → OK will be omitted","example":false,"type":"boolean"},"name":{"description":"Trigger name","example":"Not enough disk space left","type":"string"},"patterns":{"description":"Graphite patterns for trigger","example":[""],"items":{"type":"string"},"type":"array","uniqueItems":false},"sched":{"$ref":"#/components/schemas/moira.ScheduleData"},"tags":{"description":"Set of tags to manipulate subscriptions","example":["server","disk"],"items":{"type":"string"},"type":"array","uniqueItems":false},"targets":{"description":"Graphite-like targets: t1, t2, ...","example":["devOps.my_server.hdd.freespace_mbytes"],"items":{"type":"string"},"type":"array","uniqueItems":false},"trigger_source":{"description":"Shows the type of source from where the metrics are fetched","example":"graphite_local","type":"string"},"trigger_type":{"description":"Could be: rising, falling, expression","example":"rising","type":"string"},"ttl":{"description":"When there are no metrics for trigger, Moira will switch metric to TTLState state after TTL seconds","example":600,"format":"int64","type":"integer"},"ttl_state":{"description":"When there are no metrics for trigger, Moira will switch metric to TTLState state after TTL seconds","example":"NODATA","type":"string","x-nullable":true},"updated_at":{"description":"Datetime  when the trigger was updated","type":"string","x-nullable":true},"updated_by":{"description":"Username who updated trigger","type":"string"},"warn_value":{"description":"WARN threshold","example":500,"type":"number","x-nullable":true}},"type":"object"},"dto.TriggerNoisiness":{"properties":{"alone_metrics":{"additionalProperties":{"type":"boolean"},"description":"A list of targets that have only alone metrics","example":{"t1":true},"type":"object"},"cluster_id":{"description":"Shows the exact cluster from where the metrics are fetched","example":"default","type":"string"},"created_at":{"description":"Datetime when the trigger was created","type":"string","x-nullable":true},"created_by":{"description":"Username who created trigger","type":"string"},"desc":{"description":"Description string","example":"check the size of /var/log","type":"string","x-nullable":true},"error_value":{"description":"ERROR threshold","example":1000,"type":"number","x-nullable":true},"events_count":{"description":"EventsCount for the trigger.","type":"integer"},"expression":{"description":"Used if you need more complex logic than provided by WARN/ERROR values","example":"","type":"string"},"id":{"description":"Trigger unique ID","example":"292516ed-4924-4154-a62c-ebe312431fce","type":"string"},"is_remote":{"description":"Shows if trigger is remote (graphite-backend) based or stored inside Moira-Redis DB\n\nDeprecated: Use TriggerSource field instead","example":false,"type":"boolean"},"mute_new_metrics":{"description":"If true, first event NODATA → OK will be omitted","example":false,"type":"boolean"},"name":{"description":"Trigger name","example":"Not enough disk space left","type":"string"},"patterns":{"description":"Graphite patterns for trigger","example":[""],"items":{"type":"string"},"type":"array","uniqueItems":false},"sched":{"$ref":"#/components/schemas/moira.ScheduleData"},"tags":{"description":"Set of tags to manipulate subscriptions","example":["server","disk"],"items":{"type":"string"},"type":"array","uniqueItems":false},"targets":{"description":"Graphite-like targets: t1, t2, ...","example":["devOps.my_server.hdd.freespace_mbytes"],"items":{"type":"string"},"type":"array","uniqueItems":false},"throttling":{"example":0,"format":"int64","type":"integer"},"trigger_source":{"description":"Shows the type of source from where the metrics are fetched","example":"graphite_local","type":"string"},"trigger_type":{"description":"Could be: rising, falling, expression","example":"rising","type":"string"},"ttl":{"description":"When there are no metrics for trigger, Moira will switch metric to TTLState state after TTL seconds","example":600,"format":"int64","type":"integer"},"ttl_state":{"description":"When there are no metrics for trigger, Moira will switch metric to TTLState state after TTL seconds","example":"NODATA","type":"string","x-nullable":true},"updated_at":{"description":"Datetime  when the trigger was updated","type":"string","x-nullable":true},"updated_by":{"description":"Username who updated trigger","type":"string"},"warn_value":{"description":"WARN threshold","example":500,"type":"number","x-nullable":true}},"type":"object"},"dto.TriggerNoisinessList":{"properties":{"list":{"items":{"$ref":"#/components/schemas/dto.TriggerNoisiness"},"type":"array","uniqueItems":false},"page":{"example":0,"format":"int64","type":"integer"},"size":{"example":100,"format":"int64","type":"integer"},"total":{"example":10,"format":"int64","type":"integer"}},"type":"object"},"dto.TriggersList":{"properties":{"list":{"items":{"$ref":"#/components/schemas/moira.TriggerCheck"},"type":"array","uniqueItems":false},"page":{"format":"int64","type":"integer","x-nullable":true},"pager":{"type":"string","x-nullable":true},"size":{"format":"int64","type":"integer","x-nullable":true},"total":{"format":"int64","type":"integer","x-nullable":true}},"type":"object"},"dto.TriggersSearchResultDeleteResponse":{"properties":{"pager_id":{"example":"292516ed-4924-4154-a62c-ebe312431fce","type":"string"}},"type":"object"},"dto.User":{"properties":{"auth_enabled":{"example":true,"type":"boolean"},"login":{"example":"john","type":"string"},"role":{"example":"user","type":"string"}},"type":"object"},"dto.UserSettings":{"properties":{"auth_enabled":{"example":true,"type":"boolean"},"contacts":{"items":{"$ref":"#/components/schemas/moira.ContactData"},"type":"array","uniqueItems":false},"login":{"example":"john","type":"string"},"role":{"example":"user","type":"string"},"subscriptions":{"items":{"$ref":"#/components/schemas/moira.SubscriptionData"},"type":"array","uniqueItems":false}},"type":"object"},"dto.UserTeams":{"properties":{"teams":{"items":{"$ref":"#/components/schemas/dto.TeamModel"},"type":"array","uniqueItems":false}},"type":"object"},"dto.typeOfProblem":{"example":"warn","type":"string","x-enum-varnames":["isWarn","isBad"]},"moira.CheckData":{"properties":{"event_timestamp":{"example":1590741878,"format":"int64","type":"integer"},"last_successful_check_timestamp":{"description":"LastSuccessfulCheckTimestamp - time of the last check of the trigger, during which there were no errors","example":1590741916,"format":"int64","type":"integer"},"maintenance":{"example":0,"format":"int64","type":"integer"},"maintenance_info":{"$ref":"#/components/schemas/moira.MaintenanceInfo"},"metrics":{"additionalProperties":{"$ref":"#/components/schemas/moira.MetricState"},"type":"object"},"metrics_to_target_relation":{"additionalProperties":{"type":"string"},"description":"MetricsToTargetRelation is a map that holds relation between metric names that was alone during last\ncheck and targets that fetched this metric\n\t{\"t1\": \"metric.name.1\", \"t2\": \"metric.name.2\"}","example":{"t1":"metric.name.1","t2":"metric.name.2"},"type":"object"},"msg":{"type":"string"},"score":{"example":100,"format":"int64","type":"integer"},"state":{"example":"OK","type":"string"},"suppressed":{"example":true,"type":"boolean"},"suppressed_state":{"type":"string"},"timestamp":{"description":"Timestamp - time, which means when the checker last checked this trigger, this value stops updating if the trigger does not receive metrics","example":1590741916,"format":"int64","type":"integer"}},"type":"object"},"moira.ContactData":{"properties":{"id":{"example":"1dd38765-c5be-418d-81fa-7a5f879c2315","type":"string"},"name":{"example":"Mail Alerts","type":"string"},"team":{"type":"string"},"type":{"example":"mail","type":"string"},"user":{"example":"","type":"string"},"value":{"example":"devops@example.com","type":"string"}},"type":"object"},"moira.EventInfo":{"properties":{"interval":{"example":0,"format":"int64","type":"integer","x-nullable":true},"maintenance":{"$ref":"#/components/schemas/moira.MaintenanceInfo"}},"type":"object","x-nullable":true},"moira.MaintenanceInfo":{"properties":{"remove_time":{"example":0,"format":"int64","type":"integer","x-nullable":true},"remove_user":{"type":"string","x-nullable":true},"setup_time":{"example":0,"format":"int64","type":"integer","x-nullable":true},"setup_user":{"type":"string","x-nullable":true}},"type":"object","x-nullable":true},"moira.MetricState":{"properties":{"deleted_but_kept":{"description":"DeletedButKept controls whether the metric is shown to the user if the trigger has ttlState = Del\nand the metric is in Maintenance. The metric remains in the database","example":false,"type":"boolean"},"event_timestamp":{"example":1590741878,"format":"int64","type":"integer"},"maintenance":{"example":0,"format":"int64","type":"integer"},"maintenance_info":{"$ref":"#/components/schemas/moira.MaintenanceInfo"},"state":{"example":"OK","type":"string"},"suppressed":{"example":false,"type":"boolean"},"suppressed_state":{"type":"string"},"timestamp":{"example":1590741878,"format":"int64","type":"integer"},"value":{"example":70,"type":"number","x-nullable":true},"values":{"additionalProperties":{"type":"number"},"type":"object"}},"type":"object"},"moira.MetricValue":{"properties":{"step":{"format":"int64","type":"integer"},"ts":{"format":"int64","type":"integer"},"value":{"type":"number"}},"type":"object"},"moira.NotificationEvent":{"properties":{"contact_id":{"type":"string"},"event_message":{"$ref":"#/components/schemas/moira.EventInfo"},"metric":{"example":"carbon.agents.*.metricsReceived","type":"string"},"msg":{"type":"string","x-nullable":true},"old_state":{"example":"ERROR","type":"string"},"state":{"example":"OK","type":"string"},"sub_id":{"type":"string","x-nullable":true},"timestamp":{"example":1590741878,"format":"int64","type":"integer"},"trigger_event":{"example":true,"type":"boolean"},"trigger_id":{"example":"5ff37996-8927-4cab-8987-970e80d8e0a8","type":"string"},"value":{"example":70,"type":"number","x-nullable":true},"values":{"additionalProperties":{"type":"number"},"type":"object"}},"type":"object"},"moira.PlottingData":{"properties":{"enabled":{"example":true,"type":"boolean"},"theme":{"example":"dark","type":"string"}},"type":"object"},"moira.ScheduleData":{"description":"Determines when Moira should monitor trigger","properties":{"days":{"items":{"$ref":"#/components/schemas/moira.ScheduleDataDay"},"type":"array","uniqueItems":false},"endOffset":{"example":1439,"format":"int64","type":"integer"},"startOffset":{"example":0,"format":"int64","type":"integer"},"tzOffset":{"example":-60,"format":"int64","type":"integer"}},"type":"object","x-nullable":true},"moira.ScheduleDataDay":{"properties":{"enabled":{"example":true,"type":"boolean"},"name":{"enum":["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],"example":"Mon","type":"string"}},"type":"object"},"moira.ScheduledNotification":{"properties":{"contact":{"$ref":"#/components/schemas/moira.ContactData"},"created_at":{"example":1594471900,"format":"int64","type":"integer"},"event":{"$ref":"#/components/schemas/moira.NotificationEvent"},"plotting":{"$ref":"#/components/schemas/moira.PlottingData"},"send_fail":{"example":0,"type":"integer"},"throttled":{"example":false,"type":"boolean"},"timestamp":{"example":1594471927,"format":"int64","type":"integer"},"trigger":{"$ref":"#/components/schemas/moira.TriggerData"}},"type":"object"},"moira.SubscriptionData":{"properties":{"any_tags":{"example":false,"type":"boolean"},"contacts":{"example":["acd2db98-1659-4a2f-b227-52d71f6e3ba1"],"items":{"type":"string"},"type":"array","uniqueItems":false},"enabled":{"example":true,"type":"boolean"},"id":{"example":"292516ed-4924-4154-a62c-ebe312431fce","type":"string"},"ignore_recoverings":{"example":false,"type":"boolean"},"ignore_warnings":{"example":false,"type":"boolean"},"plotting":{"$ref":"#/components/schemas/moira.PlottingData"},"sched":{"$ref":"#/components/schemas/moira.ScheduleData"},"tags":{"example":["server","cpu"],"items":{"type":"string"},"type":"array","uniqueItems":false},"team_id":{"example":"324516ed-4924-4154-a62c-eb124234fce","type":"string"},"throttling":{"example":false,"type":"boolean"},"user":{"example":"","type":"string"}},"type":"object"},"moira.Trigger":{"properties":{"alone_metrics":{"additionalProperties":{"type":"boolean"},"example":{"t1":true},"type":"object"},"cluster_id":{"example":"default","type":"string"},"created_at":{"format":"int64","type":"integer","x-nullable":true},"created_by":{"type":"string"},"desc":{"example":"check the size of /var/log","type":"string","x-nullable":true},"error_value":{"example":1000,"type":"number","x-nullable":true},"expression":{"example":"","type":"string","x-nullable":true},"id":{"example":"292516ed-4924-4154-a62c-ebe312431fce","type":"string"},"mute_new_metrics":{"example":false,"type":"boolean"},"name":{"example":"Not enough disk space left","type":"string"},"patterns":{"example":[""],"items":{"type":"string"},"type":"array","uniqueItems":false},"python_expression":{"type":"string","x-nullable":true},"sched":{"$ref":"#/components/schemas/moira.ScheduleData"},"tags":{"example":["server","disk"],"items":{"type":"string"},"type":"array","uniqueItems":false},"targets":{"example":["devOps.my_server.hdd.freespace_mbytes"],"items":{"type":"string"},"type":"array","uniqueItems":false},"trigger_source":{"example":"graphite_local","type":"string"},"trigger_type":{"example":"rising","type":"string"},"ttl":{"example":600,"format":"int64","type":"integer"},"ttl_state":{"example":"NODATA","type":"string","x-nullable":true},"updated_at":{"format":"int64","type":"integer","x-nullable":true},"updated_by":{"type":"string"},"warn_value":{"example":5000,"type":"number","x-nullable":true}},"type":"object"},"moira.TriggerCheck":{"properties":{"alone_metrics":{"additionalProperties":{"type":"boolean"},"example":{"t1":true},"type":"object"},"cluster_id":{"example":"default","type":"string"},"created_at":{"format":"int64","type":"integer","x-nullable":true},"created_by":{"type":"string"},"desc":{"example":"check the size of /var/log","type":"string","x-nullable":true},"error_value":{"example":1000,"type":"number","x-nullable":true},"expression":{"example":"","type":"string","x-nullable":true},"highlights":{"additionalProperties":{"type":"string"},"type":"object"},"id":{"example":"292516ed-4924-4154-a62c-ebe312431fce","type":"string"},"last_check":{"$ref":"#/components/schemas/moira.CheckData"},"mute_new_metrics":{"example":false,"type":"boolean"},"name":{"example":"Not enough disk space left","type":"string"},"patterns":{"example":[""],"items":{"type":"string"},"type":"array","uniqueItems":false},"python_expression":{"type":"string","x-nullable":true},"sched":{"$ref":"#/components/schemas/moira.ScheduleData"},"tags":{"example":["server","disk"],"items":{"type":"string"},"type":"array","uniqueItems":false},"targets":{"example":["devOps.my_server.hdd.freespace_mbytes"],"items":{"type":"string"},"type":"array","uniqueItems":false},"throttling":{"example":0,"format":"int64","type":"integer"},"trigger_source":{"example":"graphite_local","type":"string"},"trigger_type":{"example":"rising","type":"string"},"ttl":{"example":600,"format":"int64","type":"integer"},"ttl_state":{"example":"NODATA","type":"string","x-nullable":true},"updated_at":{"format":"int64","type":"integer","x-nullable":true},"updated_by":{"type":"string"},"warn_value":{"example":5000,"type":"number","x-nullable":true}},"type":"object"},"moira.TriggerData":{"properties":{"__notifier_trigger_tags":{"example":["server","disk"],"items":{"type":"string"},"type":"array","uniqueItems":false},"cluster_id":{"example":"default","type":"string"},"desc":{"example":"check the size of /var/log","type":"string"},"error_value":{"example":1000,"type":"number"},"id":{"example":"292516ed-4924-4154-a62c-ebe312431fce","type":"string"},"is_remote":{"example":false,"type":"boolean"},"name":{"example":"Not enough disk space left","type":"string"},"targets":{"example":["devOps.my_server.hdd.freespace_mbytes"],"items":{"type":"string"},"type":"array","uniqueItems":false},"trigger_source":{"example":"graphite_local","type":"string"},"warn_value":{"example":5000,"type":"number"}},"type":"object"}}},
    "info": {"contact":{"email":"kontur.moira.alert@gmail.com","name":"Moira Team"},"description":"{{escape .Description}}","license":{"name":"MIT","url":"https://opensource.org/licenses/MIT"},"title":"{{.Title}}","version":"{{.Version}}"},
    "externalDocs": {"description":"Check us out on [Github](https://github.com/moira-alert) or look up our [guide](https://moira.readthedocs.io) on getting started with Moira","url":"https://moira.readthedocs.io/en/latest/overview.html"},
    "paths": {"/config":{"get":{"operationId":"get-web-config","responses":{"200":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/api.WebConfig"}}},"description":"Configuration fetched successfully"},"422":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/api.ErrorResponse"}}},"description":"Render error"}},"summary":"Get web configuration","tags":["config"]}},"/contact":{"get":{"operationId":"get-all-contacts","responses":{"200":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/dto.ContactList"}}},"description":"Contacts fetched successfully"},"422":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/api.ErrorResponse"}}},"description":"Render error"},"500":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/api.ErrorResponse"}}},"description":"Internal server error"}},"summary":"Gets all Moira contacts","tags":["contact"]},"put":{"operationId":"create-new-contact","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/dto.Contact"}}},"description":"Contact data","required":true},"responses":{"200":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/dto.Contact"}}},"description":"Contact created successfully"},"400":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/api.ErrorResponse"}}},"description":"Bad request from client"},"422":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/api.ErrorResponse"}}},"description":"Render error"},"500":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/api.ErrorResponse"}}},"description":"Internal server error"}},"summary":"Creates a new contact notification for the current user","tags":["contact"]}},"/contact/{contactID}":{"delete":{"operationId":"remove-contact","parameters":[{"description":"ID of the contact to remove","in":"path","name":"contactID","required":true,"schema":{"default":"bcba82f5-48cf-44c0-b7d6-e1d32c64a88c","type":"string"}}],"requestBody":{"content":{"application/json":{"schema":{"type":"object"}}}},"responses":{"200":{"content":{"application/json":{"schema":{"type":"object"}}},"description":"Contact has been deleted"},"400":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/api.ErrorResponse"}}},"description":"Bad request from client"},"403":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/api.ErrorResponse"}}},"description":"Forbidden"},"404":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/api.ErrorResponse"}}},"description":"Resource not found"},"500":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/api.ErrorResponse"}}},"description":"Internal server error"}},"summary":"Deletes notification contact for the current user and remove the contact ID from all subscriptions","tags":["contact"]},"get":{"operationId":"get-contact-by-id","parameters":[{"description":"Contact ID","in":"path","name":"contactID","required":true,"schema":{"default":"bcba82f5-48cf-44c0-b7d6-e1d32c64a88c","type":"string"}}],"responses":{"200":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/dto.Contact"}}},"description":"Successfully received contact"},"403":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/api.ErrorResponse"}}},"description":"Forbidden"},"404":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/api.ErrorResponse"}}},"description":"Resource not found"},"422":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/api.ErrorResponse"}}},"description":"Render error"},"500":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/api.ErrorResponse"}}},"description":"Internal server error"}},"summary":"Get contact by ID","tags":["contact"]},"put":{"operationId":"update-contact","parameters":[{"description":"ID of the contact to update","in":"path","name":"contactID","required":true,"schema":{"default":"bcba82f5-48cf-44c0-b7d6-e1d32c64a88c","type":"string"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/dto.Contact"}}},"description":"Updated contact data","required":true},"responses":{"200":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/dto.Contact"}}},"description":"Updated contact"},"400":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/api.ErrorResponse"}}},"description":"Bad request from client"},"403":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/api.ErrorResponse"}}},"description":"Forbidden"},"404":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/api.ErrorResponse"}}},"description":"Resource not found"},"422":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/api.ErrorResponse"}}},"description":"Render error"},"500":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/api.ErrorResponse"}}},"description":"Internal server error"}},"summary":"Updates an existing notification contact to the values passed in the request body","tags":["contact"]}},"/contact/{contactID}/events":{"get":{"operationId":"get-contact-events-by-id","parameters":[{"description":"Contact ID","in":"path","name":"contactID","required":true,"schema":{"default":"bcba82f5-48cf-44c0-b7d6-e1d32c64a88c","type":"string"}},{"description":"Start time of the time range","in":"query","name":"from","schema":{"default":"-3hour","type":"string"}},{"description":"End time of the time range","in":"query","name":"to","schema":{"default":"now","type":"string"}},{"description":"Number of items to return or all items if size == -1 (if size == -1 p should be zero for correct work)","in":"query","name":"size","schema":{"default":100,"type":"integer"}},{"description":"Defines the index of data portion (combined with size). E.g, p=2, size=100 will return records from 200 (including), to 300 (not including)","in":"query","name":"p","schema":{"default":0,"type":"integer"}}],"responses":{"200":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/dto.ContactEventItemList"}}},"description":"Successfully received contact events"},"400":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/api.ErrorResponse"}}},"description":"Bad request from client"},"403":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/api.ErrorResponse"}}},"description":"Forbidden"},"404":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/api.ErrorResponse"}}},"description":"Resource not found"},"422":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/api.ErrorResponse"}}},"description":"Render error"},"500":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/api.ErrorResponse"}}},"description":"Internal server error"}},"summary":"Get contact events by ID with time range","tags":["contact"]}},"/contact/{contactID}/test":{"post":{"operationId":"send-test-contact-notification","parameters":[{"description":"The ID of the target contact","in":"path","name":"contactID","required":true,"schema":{"default":"bcba82f5-48cf-44c0-b7d6-e1d32c64a88c","type":"string"}}],"requestBody":{"content":{"application/json":{"schema":{"type":"object"}}}},"responses":{"200":{"content":{"application/json":{"schema":{"type":"object"}}},"description":"Test successful"},"403":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/api.ErrorResponse"}}},"description":"Forbidden"},"404":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/api.ErrorResponse"}}},"description":"Resource not found"},"500":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/api.ErrorResponse"}}},"description":"Internal server error"}},"summary":"Push a test notification to verify that the contact is properly set up","tags":["contact"]}},"/event/all":{"delete":{"operationId":"delete-all-events","responses":{"200":{"content":{"application/json":{"schema":{"type":"object"}}},"description":"Events removed successfully"},"500":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/api.ErrorResponse"}}},"description":"Internal server error"}},"summary":"Deletes all notification events","tags":["event"]}},"/event/{triggerID}":{"get":{"operationId":"get-events-list","parameters":[{"description":"The ID of updated trigger","in":"path","name":"triggerID","required":true,"schema":{"default":"bcba82f5-48cf-44c0-b7d6-e1d32c64a88c","type":"string"}},{"description":"Number of items to be displayed on one page. if size = -1 then all events returned","in":"query","name":"size","schema":{"default":100,"type":"integer"}},{"description":"Defines the number of the displayed page. E.g, p=2 would display the 2nd page","in":"query","name":"p","schema":{"default":0,"type":"integer"}},{"description":"Start time of the time range","in":"query","name":"from","schema":{"default":"-3hours","type":"string"}},{"description":"End time of the time range","in":"query","name":"to","schema":{"default":"now","type":"string"}},{"description":"Regular expression that will be used to filter events","in":"query","name":"metric","schema":{"default":".*","type":"string"}},{"description":"String of ',' separated state names. If empty then all states will be used.","in":"query","name":"states","schema":{"items":{"type":"string"},"type":"array"},"style":"form"}],"responses":{"200":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/dto.EventsList"}}},"description":"Events fetched successfully"},"400":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/api.ErrorResponse"}}},"description":"Bad request from client"},"404":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/api.ErrorResponse"}}},"description":"Resource not found"},"422":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/api.ErrorResponse"}}},"description":"Render error"},"500":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/api.ErrorResponse"}}},"description":"Internal server error"}},"summary":"Gets all trigger events for current page and their count","tags":["event"]}},"/health/notifier":{"get":{"operationId":"get-notifier-state","responses":{"200":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/dto.NotifierState"}}},"description":"Notifier state retrieved"},"422":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/api.ErrorResponse"}}},"description":"Render error"},"500":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/api.ErrorResponse"}}},"description":"Internal server error"}},"summary":"Get notifier state","tags":["health"]},"put":{"operationId":"set-notifier-state","responses":{"200":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/dto.NotifierState"}}},"description":"Notifier state retrieved"},"403":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/api.ErrorResponse"}}},"description":"Forbidden"},"422":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/api.ErrorResponse"}}},"description":"Render error"},"500":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/api.ErrorResponse"}}},"description":"Internal server error"}},"summary":"Set notifier state","tags":["health"]}},"/notification":{"delete":{"operationId":"delete-notification","parameters":[{"description":"The ID of deleted notification","in":"query","name":"id","required":true,"schema":{"default":"bcba82f5-48cf-44c0-b7d6-e1d32c64a88c","type":"string"}}],"responses":{"200":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/dto.NotificationDeleteResponse"}}},"description":"Notification have been deleted"},"400":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/api.ErrorResponse"}}},"description":"Bad request from client"},"403":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/api.ErrorResponse"}}},"description":"Forbidden"},"422":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/api.ErrorResponse"}}},"description":"Render error"},"500":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/api.ErrorResponse"}}},"description":"Internal server error"}},"summary":"Delete a notification by id","tags":["notification"]},"get":{"operationId":"get-notifications","parameters":[{"description":"Default Value: 0","in":"query","name":"start","schema":{"default":0,"type":"integer"}},{"description":"Default Value: -1","in":"query","name":"end","schema":{"default":-1,"type":"integer"}}],"responses":{"200":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/dto.NotificationsList"}}},"description":"Notifications fetched successfully"},"400":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/api.ErrorResponse"}}},"description":"Bad request from client"},"422":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/api.ErrorResponse"}}},"description":"Render error"},"500":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/api.ErrorResponse"}}},"description":"Internal server error"}},"summary":"Gets a paginated list of notifications, all notifications are fetched if end = -1 and start = 0","tags":["notification"]}},"/notification/all":{"delete":{"operationId":"delete-all-notifications","responses":{"200":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/dto.NotificationsList"}}},"description":"Notification have been deleted"},"403":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/api.ErrorResponse"}}},"description":"Forbidden"},"500":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/api.ErrorResponse"}}},"description":"Internal server error"}},"summary":"Delete all notifications","tags":["notification"]}},"/pattern":{"get":{"operationId":"get-all-patterns","responses":{"200":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/dto.PatternList"}}},"description":"Patterns fetched successfully"},"403":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/api.ErrorResponse"}}},"description":"Forbidden"},"422":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/api.ErrorResponse"}}},"description":"Render error"},"500":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/api.ErrorResponse"}}},"description":"Internal server error"}},"summary":"Get all patterns","tags":["pattern"]}},"/pattern/{pattern}":{"delete":{"operationId":"delete-pattern","parameters":[{"description":"Trigger pattern to operate on","in":"path","name":"pattern","required":true,"schema":{"default":"DevOps.my_server.hdd.freespace_mbytes","type":"string"}}],"responses":{"200":{"content":{"application/json":{"schema":{"type":"object"}}},"description":"Pattern deleted successfully"},"400":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/api.ErrorResponse"}}},"description":"Bad request from client"},"403":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/api.ErrorResponse"}}},"description":"Forbidden"},"500":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/api.ErrorResponse"}}},"description":"Internal server error"}},"summary":"Deletes a Moira pattern","tags":["pattern"]}},"/subscription":{"get":{"operationId":"get-user-subscriptions","responses":{"200":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/dto.SubscriptionList"}}},"description":"Subscriptions fetched successfully"},"422":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/api.ErrorResponse"}}},"description":"Render error"},"500":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/api.ErrorResponse"}}},"description":"Internal server error"}},"summary":"Get all subscriptions","tags":["subscription"]},"put":{"operationId":"create-subscription","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/dto.Subscription"}}},"description":"Subscription data","required":true},"responses":{"200":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/dto.Subscription"}}},"description":"Subscription created successfully"},"400":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/api.ErrorResponse"}}},"description":"Bad request from client"},"422":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/api.ErrorResponse"}}},"description":"Render error"},"500":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/api.ErrorResponse"}}},"description":"Internal server error"}},"summary":"Create a new subscription","tags":["subscription"]}},"/subscription/{subscriptionID}":{"delete":{"operationId":"remove-subscription","parameters":[{"description":"ID of the subscription to remove","in":"path","name":"subscriptionID","required":true,"schema":{"default":"bcba82f5-48cf-44c0-b7d6-e1d32c64a88c","type":"string"}}],"responses":{"200":{"content":{"application/json":{"schema":{"type":"object"}}},"description":"Subscription deleted"},"403":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/api.ErrorResponse"}}},"description":"Forbidden"},"404":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/api.ErrorResponse"}}},"description":"Resource not found"},"500":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/api.ErrorResponse"}}},"description":"Internal server error"}},"summary":"Delete a subscription","tags":["subscription"]},"get":{"operationId":"get-subscription","parameters":[{"description":"ID of the subscription to get","in":"path","name":"subscriptionID","required":true,"schema":{"default":"bcba82f5-48cf-44c0-b7d6-e1d32c64a88c","type":"string"}}],"responses":{"200":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/dto.Subscription"}}},"description":"Subscription fetched successfully"},"403":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/api.ErrorResponse"}}},"description":"Forbidden"},"422":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/api.ErrorResponse"}}},"description":"Render error"},"500":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/api.ErrorResponse"}}},"description":"Internal server error"}},"summary":"Get subscription by id","tags":["subscription"]},"put":{"operationId":"update-subscription","parameters":[{"description":"ID of the subscription to update","in":"path","name":"subscriptionID","required":true,"schema":{"default":"bcba82f5-48cf-44c0-b7d6-e1d32c64a88c","type":"string"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/dto.Subscription"}}},"description":"Updated subscription data","required":true},"responses":{"200":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/dto.Subscription"}}},"description":"Subscription updated successfully"},"400":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/api.ErrorResponse"}}},"description":"Bad request from client"},"403":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/api.ErrorResponse"}}},"description":"Forbidden"},"404":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/api.ErrorResponse"}}},"description":"Resource not found"},"422":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/api.ErrorResponse"}}},"description":"Render error"},"500":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/api.ErrorResponse"}}},"description":"Internal server error"}},"summary":"Update a subscription","tags":["subscription"]}},"/subscription/{subscriptionID}/test":{"put":{"operationId":"send-test-notification","parameters":[{"description":"ID of the subscription to send the test notification","in":"path","name":"subscriptionID","required":true,"schema":{"default":"bcba82f5-48cf-44c0-b7d6-e1d32c64a88c","type":"string"}}],"responses":{"200":{"content":{"application/json":{"schema":{"type":"object"}}},"description":"Test notification sent successfully"},"403":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/api.ErrorResponse"}}},"description":"Forbidden"},"404":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/api.ErrorResponse"}}},"description":"Resource not found"},"500":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/api.ErrorResponse"}}},"description":"Internal server error"}},"summary":"Send a test notification for a subscription","tags":["subscription"]}},"/tag":{"get":{"operationId":"get-all-tags","responses":{"200":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/dto.TagsData"}}},"description":"Tags fetched successfully"},"422":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/api.ErrorResponse"}}},"description":"Render error"},"500":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/api.ErrorResponse"}}},"description":"Internal server error"}},"summary":"Get all tags","tags":["tag"]},"post":{"operationId":"create-tags","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/dto.TagsData"}}},"description":"Tags data","required":true},"responses":{"200":{"content":{"application/json":{"schema":{"type":"string"}}},"description":"Create tags successfully"},"400":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/api.ErrorResponse"}}},"description":"Bad request from client"},"422":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/api.ErrorResponse"}}},"description":"Render error"},"500":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/api.ErrorResponse"}}},"description":"Internal server error"}},"summary":"Create new tags","tags":["tag"]}},"/tag/stats":{"get":{"operationId":"get-all-tags-and-subscriptions","responses":{"200":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/dto.TagsStatistics"}}},"description":"Successful"},"422":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/api.ErrorResponse"}}},"description":"Render error"},"500":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/api.ErrorResponse"}}},"description":"Internal server error"}},"summary":"Get all tags and their subscriptions","tags":["tag"]}},"/tag/{tag}":{"delete":{"operationId":"remove-tag","parameters":[{"description":"Name of the tag to remove","example":"cpu","in":"path","name":"tag","required":true,"schema":{"type":"string"}}],"responses":{"200":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/dto.MessageResponse"}}},"description":"Tag removed successfully"},"400":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/api.ErrorResponse"}}},"description":"Bad request from client"},"422":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/api.ErrorResponse"}}},"description":"Render error"},"500":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/api.ErrorResponse"}}},"description":"Internal server error"}},"summary":"Remove a tag","tags":["tag"]}},"/teams":{"get":{"operationId":"get-all-teams-for-user","responses":{"200":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/dto.UserTeams"}}},"description":"Teams fetched successfully"},"422":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/api.ErrorResponse"}}},"description":"Render error"},"500":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/api.ErrorResponse"}}},"description":"Internal server error"}},"summary":"Get all teams for user","tags":["team"]},"post":{"operationId":"create-team","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/dto.TeamModel"}}},"description":"Team data","required":true},"responses":{"200":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/dto.SaveTeamResponse"}}},"description":"Team created successfully"},"400":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/api.ErrorResponse"}}},"description":"Bad request from client"},"422":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/api.ErrorResponse"}}},"description":"Render error"},"500":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/api.ErrorResponse"}}},"description":"Internal server error"}},"summary":"Create a new team","tags":["team"]}},"/teams/all":{"get":{"operationId":"get-all-teams","parameters":[{"description":"Number of items to be displayed on one page. if size = -1 then all teams returned","in":"query","name":"size","schema":{"default":-1,"type":"integer"}},{"description":"Defines the number of the displayed page. E.g, p=2 would display the 2nd page","in":"query","name":"p","schema":{"default":0,"type":"integer"}},{"description":"Regular expression which will be applied to team id or team name than filtering teams","in":"query","name":"searchText","schema":{"default":".*","type":"string"}},{"description":"String to set sort order (by name). On empty - no order, asc - ascending, desc - descending","in":"query","name":"sort","schema":{"default":"asc","type":"string"}}],"responses":{"200":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/dto.TeamsList"}}},"description":"Teams fetched successfully"},"400":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/api.ErrorResponse"}}},"description":"Bad request from client"},"403":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/api.ErrorResponse"}}},"description":"Forbidden"},"422":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/api.ErrorResponse"}}},"description":"Render error"},"500":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/api.ErrorResponse"}}},"description":"Internal server error"}},"summary":"Get all Moira teams","tags":["team"]}},"/teams/{teamID}":{"delete":{"operationId":"delete-team","parameters":[{"description":"ID of the team","in":"path","name":"teamID","required":true,"schema":{"default":"bcba82f5-48cf-44c0-b7d6-e1d32c64a88c","type":"string"}}],"responses":{"200":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/dto.SaveTeamResponse"}}},"description":"Team has been successfully deleted"},"400":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/api.ErrorResponse"}}},"description":"Bad request from client"},"403":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/api.ErrorResponse"}}},"description":"Forbidden"},"404":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/api.ErrorResponse"}}},"description":"Resource not found"},"422":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/api.ErrorResponse"}}},"description":"Render error"},"500":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/api.ErrorResponse"}}},"description":"Internal server error"}},"summary":"Delete a team","tags":["team"]},"get":{"operationId":"get-team","parameters":[{"description":"ID of the team","in":"path","name":"teamID","required":true,"schema":{"default":"bcba82f5-48cf-44c0-b7d6-e1d32c64a88c","type":"string"}}],"responses":{"200":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/dto.TeamModel"}}},"description":"Team updated successfully"},"403":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/api.ErrorResponse"}}},"description":"Forbidden"},"404":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/api.ErrorResponse"}}},"description":"Resource not found"},"422":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/api.ErrorResponse"}}},"description":"Render error"},"500":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/api.ErrorResponse"}}},"description":"Internal server error"}},"summary":"Get a team by ID","tags":["team"]},"patch":{"operationId":"update-team","parameters":[{"description":"ID of the team","in":"path","name":"teamID","required":true,"schema":{"default":"bcba82f5-48cf-44c0-b7d6-e1d32c64a88c","type":"string"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/dto.TeamModel"}}},"description":"Updated team data","required":true},"responses":{"200":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/dto.SaveTeamResponse"}}},"description":"Team updated successfully"},"400":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/api.ErrorResponse"}}},"description":"Bad request from client"},"403":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/api.ErrorResponse"}}},"description":"Forbidden"},"404":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/api.ErrorResponse"}}},"description":"Resource not found"},"422":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/api.ErrorResponse"}}},"description":"Render error"},"500":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/api.ErrorResponse"}}},"description":"Internal server error"}},"summary":"Update existing team","tags":["team"]}},"/teams/{teamID}/contacts":{"post":{"operationId":"create-new-team-contact","parameters":[{"description":"The ID of team","in":"path","name":"teamID","required":true,"schema":{"default":"bcba82f5-48cf-44c0-b7d6-e1d32c64a88c","type":"string"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/dto.Contact"}}},"description":"Team contact data","required":true},"responses":{"200":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/dto.Contact"}}},"description":"Team contact created successfully"},"400":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/api.ErrorResponse"}}},"description":"Bad request from client"},"403":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/api.ErrorResponse"}}},"description":"Forbidden"},"404":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/api.ErrorResponse"}}},"description":"Resource not found"},"422":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/api.ErrorResponse"}}},"description":"Render error"},"500":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/api.ErrorResponse"}}},"description":"Internal server error"}},"summary":"Create a new team contact","tags":["teamContact"]}},"/teams/{teamID}/settings":{"get":{"operationId":"get-team-settings","parameters":[{"description":"ID of the team","in":"path","name":"teamID","required":true,"schema":{"default":"bcba82f5-48cf-44c0-b7d6-e1d32c64a88c","type":"string"}}],"responses":{"200":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/dto.TeamSettings"}}},"description":"Team settings"},"403":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/api.ErrorResponse"}}},"description":"Forbidden"},"404":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/api.ErrorResponse"}}},"description":"Resource not found"},"422":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/api.ErrorResponse"}}},"description":"Render error"},"500":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/api.ErrorResponse"}}},"description":"Internal server error"}},"summary":"Get team settings","tags":["team"]}},"/teams/{teamID}/subscriptions":{"post":{"operationId":"create-new-team-subscription","parameters":[{"description":"The ID of team","in":"path","name":"teamID","required":true,"schema":{"default":"bcba82f5-48cf-44c0-b7d6-e1d32c64a88c","type":"string"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/dto.Subscription"}}},"description":"Team subscription data","required":true},"responses":{"200":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/dto.Subscription"}}},"description":"Team subscription created successfully"},"400":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/api.ErrorResponse"}}},"description":"Bad request from client"},"403":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/api.ErrorResponse"}}},"description":"Forbidden"},"404":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/api.ErrorResponse"}}},"description":"Resource not found"},"422":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/api.ErrorResponse"}}},"description":"Render error"},"500":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/api.ErrorResponse"}}},"description":"Internal server error"}},"summary":"Create a new team subscription","tags":["teamSubscription"]}},"/teams/{teamID}/users":{"get":{"operationId":"get-team-users","parameters":[{"description":"ID of the team","in":"path","name":"teamID","required":true,"schema":{"default":"bcba82f5-48cf-44c0-b7d6-e1d32c64a88c","type":"string"}}],"responses":{"200":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/dto.TeamMembers"}}},"description":"Users fetched successfully"},"403":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/api.ErrorResponse"}}},"description":"Forbidden"},"404":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/api.ErrorResponse"}}},"description":"Resource not found"},"422":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/api.ErrorResponse"}}},"description":"Render error"},"500":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/api.ErrorResponse"}}},"description":"Internal server error"}},"summary":"Get users of a team","tags":["team"]},"post":{"operationId":"add-team-users","parameters":[{"description":"ID of the team","in":"path","name":"teamID","required":true,"schema":{"default":"bcba82f5-48cf-44c0-b7d6-e1d32c64a88c","type":"string"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/dto.TeamMembers"}}},"description":"Usernames to add to the team","required":true},"responses":{"200":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/dto.TeamMembers"}}},"description":"Team updated successfully"},"400":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/api.ErrorResponse"}}},"description":"Bad request from client"},"403":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/api.ErrorResponse"}}},"description":"Forbidden"},"404":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/api.ErrorResponse"}}},"description":"Resource not found"},"422":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/api.ErrorResponse"}}},"description":"Render error"},"500":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/api.ErrorResponse"}}},"description":"Internal server error"}},"summary":"Add users to a team","tags":["team"]},"put":{"operationId":"set-team-users","parameters":[{"description":"ID of the team","in":"path","name":"teamID","required":true,"schema":{"default":"bcba82f5-48cf-44c0-b7d6-e1d32c64a88c","type":"string"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/dto.TeamMembers"}}},"description":"Usernames to set as team members","required":true},"responses":{"200":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/dto.TeamMembers"}}},"description":"Team updated successfully"},"400":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/api.ErrorResponse"}}},"description":"Bad request from client"},"403":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/api.ErrorResponse"}}},"description":"Forbidden"},"404":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/api.ErrorResponse"}}},"description":"Resource not found"},"422":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/api.ErrorResponse"}}},"description":"Render error"},"500":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/api.ErrorResponse"}}},"description":"Internal server error"}},"summary":"Set users of a team","tags":["team"]}},"/teams/{teamID}/users/{teamUserID}":{"delete":{"operationId":"delete-team-user","parameters":[{"description":"ID of the team","in":"path","name":"teamID","required":true,"schema":{"default":"bcba82f5-48cf-44c0-b7d6-e1d32c64a88c","type":"string"}},{"description":"User login in methods related to teams manipulation","in":"path","name":"teamUserID","required":true,"schema":{"default":"anonymous","type":"string"}}],"responses":{"200":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/dto.TeamMembers"}}},"description":"Team updated successfully"},"400":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/api.ErrorResponse"}}},"description":"Bad request from client"},"403":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/api.ErrorResponse"}}},"description":"Forbidden"},"404":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/api.ErrorResponse"}}},"description":"Resource not found"},"422":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/api.ErrorResponse"}}},"description":"Render error"},"500":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/api.ErrorResponse"}}},"description":"Internal server error"}},"summary":"Delete a user from a team","tags":["team"]}},"/trigger":{"get":{"operationId":"get-all-triggers","responses":{"200":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/dto.TriggersList"}}},"description":"Fetched all triggers"},"422":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/api.ErrorResponse"}}},"description":"Render error"},"500":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/api.ErrorResponse"}}},"description":"Internal server error"}},"summary":"Get all triggers","tags":["trigger"]},"put":{"operationId":"create-trigger","parameters":[{"description":"For validating targets","in":"query","name":"validate","schema":{"type":"boolean"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/dto.Trigger"}}},"description":"Trigger data","required":true},"responses":{"200":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/dto.SaveTriggerResponse"}}},"description":"Trigger created successfully"},"400":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/api.ErrorResponse"}}},"description":"Bad request from client"},"422":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/api.ErrorResponse"}}},"description":"Render error"},"500":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/api.ErrorResponse"}}},"description":"Internal server error"},"503":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/api.ErrorResponse"}}},"description":"Remote server unavailable"}},"summary":"Create a new trigger","tags":["trigger"]}},"/trigger/check":{"put":{"operationId":"trigger-check","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/dto.Trigger"}}},"description":"Trigger data","required":true},"responses":{"200":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/dto.TriggerCheckResponse"}}},"description":"Validation is done, see response body for validation result"},"400":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/api.ErrorResponse"}}},"description":"Bad request from client"},"500":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/api.ErrorResponse"}}},"description":"Internal server error"},"503":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/api.ErrorResponse"}}},"description":"Remote server unavailable"}},"summary":"Validates trigger target","tags":["trigger"]}},"/trigger/noisiness":{"get":{"operationId":"get-triggers-noisiness","parameters":[{"description":"Number of items to be displayed on one page. if size = -1 then all events returned","in":"query","name":"size","schema":{"default":100,"type":"integer"}},{"description":"Defines the number of the displayed page. E.g, p=2 would display the 2nd page","in":"query","name":"p","schema":{"default":0,"type":"integer"}},{"description":"Start time of the time range","in":"query","name":"from","schema":{"default":"-3hours","type":"string"}},{"description":"End time of the time range","in":"query","name":"to","schema":{"default":"now","type":"string"}},{"description":"String to set sort order (by events_count). On empty - no order, asc - ascending, desc - descending","in":"query","name":"sort","schema":{"default":"desc","type":"string"}}],"responses":{"200":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/dto.TriggerNoisinessList"}}},"description":"Get noisiness for triggers in range"},"400":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/api.ErrorResponse"}}},"description":"Bad request from client"},"422":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/api.ErrorResponse"}}},"description":"Render error"},"500":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/api.ErrorResponse"}}},"description":"Internal server error"}},"summary":"Get triggers noisiness","tags":["trigger"]}},"/trigger/search":{"get":{"description":"You can also add filtering by tags, for this purpose add query parameters tags[0]=test, tags[1]=test1 and so on\nFor example, ` + "`" + `/api/trigger/search?tags[0]=test\u0026tags[1]=test1` + "`" + `","operationId":"search-triggers","parameters":[{"description":"Only include problems","in":"query","name":"onlyProblems","schema":{"default":false,"type":"boolean"}},{"description":"Search text","in":"query","name":"text","schema":{"default":"cpu","type":"string"}},{"description":"Page number","in":"query","name":"p","schema":{"default":0,"type":"integer"}},{"description":"Page size","in":"query","name":"size","schema":{"default":10,"type":"integer"}},{"description":"Create pager","in":"query","name":"createPager","schema":{"default":false,"type":"boolean"}},{"description":"Pager ID","in":"query","name":"pagerID","schema":{"default":"bcba82f5-48cf-44c0-b7d6-e1d32c64a88c","type":"string"}},{"description":"Created By","in":"query","name":"createdBy","schema":{"default":"moira.team","type":"string"}}],"responses":{"200":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/dto.TriggersList"}}},"description":"Successfully fetched matching triggers"},"400":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/api.ErrorResponse"}}},"description":"Bad request from client"},"404":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/api.ErrorResponse"}}},"description":"Resource not found"},"422":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/api.ErrorResponse"}}},"description":"Render error"},"500":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/api.ErrorResponse"}}},"description":"Internal server error"}},"summary":"Search triggers. Replaces the deprecated ` + "`" + `page` + "`" + ` path","tags":["trigger"]}},"/trigger/search/pager":{"delete":{"operationId":"delete-pager","parameters":[{"description":"Pager ID","in":"query","name":"pagerID","schema":{"default":"bcba82f5-48cf-44c0-b7d6-e1d32c64a88c","type":"string"}}],"responses":{"200":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/dto.TriggersSearchResultDeleteResponse"}}},"description":"Successfully deleted pager"},"404":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/api.ErrorResponse"}}},"description":"Resource not found"},"422":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/api.ErrorResponse"}}},"description":"Render error"},"500":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/api.ErrorResponse"}}},"description":"Internal server error"}},"summary":"Delete triggers pager","tags":["trigger"]}},"/trigger/unused":{"get":{"operationId":"get-unused-triggers","responses":{"200":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/dto.TriggersList"}}},"description":"Fetched unused triggers"},"422":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/api.ErrorResponse"}}},"description":"Render error"},"500":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/api.ErrorResponse"}}},"description":"Internal server error"}},"summary":"Get unused triggers","tags":["trigger"]}},"/trigger/{triggerID}":{"delete":{"operationId":"remove-trigger","parameters":[{"description":"Trigger ID","in":"path","name":"triggerID","required":true,"schema":{"default":"bcba82f5-48cf-44c0-b7d6-e1d32c64a88c","type":"string"}}],"responses":{"200":{"description":"Successfully removed"},"404":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/api.ErrorResponse"}}},"description":"Resource not found"},"500":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/api.ErrorResponse"}}},"description":"Internal server error"}},"summary":"Remove trigger","tags":["trigger"]},"get":{"operationId":"get-trigger","parameters":[{"description":"Trigger ID","in":"path","name":"triggerID","required":true,"schema":{"default":"bcba82f5-48cf-44c0-b7d6-e1d32c64a88c","type":"string"}},{"description":"Populated","in":"query","name":"populated","schema":{"default":false,"type":"boolean"}}],"responses":{"200":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/dto.Trigger"}}},"description":"Trigger data"},"404":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/api.ErrorResponse"}}},"description":"Resource not found"},"422":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/api.ErrorResponse"}}},"description":"Render error"},"500":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/api.ErrorResponse"}}},"description":"Internal server error"}},"summary":"Get an existing trigger","tags":["trigger"]},"put":{"operationId":"update-trigger","parameters":[{"description":"Trigger ID","in":"path","name":"triggerID","required":true,"schema":{"default":"bcba82f5-48cf-44c0-b7d6-e1d32c64a88c","type":"string"}},{"description":"For validating targets","in":"query","name":"validate","schema":{"type":"boolean"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/dto.Trigger"}}},"description":"Trigger data","required":true},"responses":{"200":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/dto.SaveTriggerResponse"}}},"description":"Updated trigger"},"400":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/api.ErrorResponse"}}},"description":"Bad request from client"},"404":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/api.ErrorResponse"}}},"description":"Resource not found"},"422":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/api.ErrorResponse"}}},"description":"Render error"},"500":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/api.ErrorResponse"}}},"description":"Internal server error"},"503":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/api.ErrorResponse"}}},"description":"Remote server unavailable"}},"summary":"Update existing trigger","tags":["trigger"]}},"/trigger/{triggerID}/dump":{"get":{"operationId":"get-trigger-dump","parameters":[{"description":"Trigger ID","in":"path","name":"triggerID","required":true,"schema":{"default":"bcba82f5-48cf-44c0-b7d6-e1d32c64a88c","type":"string"}}],"responses":{"200":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/dto.TriggerDump"}}},"description":"Trigger dump"},"404":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/api.ErrorResponse"}}},"description":"Resource not found"},"500":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/api.ErrorResponse"}}},"description":"Internal server error"}},"summary":"Get trigger dump","tags":["trigger"]}},"/trigger/{triggerID}/metrics":{"delete":{"operationId":"delete-trigger-metric","parameters":[{"description":"Trigger ID","in":"path","name":"triggerID","required":true,"schema":{"default":"bcba82f5-48cf-44c0-b7d6-e1d32c64a88c","type":"string"}},{"description":"Name of the target metric","in":"query","name":"name","schema":{"default":"DevOps.my_server.hdd.freespace_mbytes","type":"string"}}],"responses":{"200":{"content":{"application/json":{"schema":{"type":"object"}}},"description":"Trigger metric deleted successfully"},"400":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/api.ErrorResponse"}}},"description":"Bad request from client"},"404":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/api.ErrorResponse"}}},"description":"Resource not found"},"500":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/api.ErrorResponse"}}},"description":"Internal server error"}},"summary":"Delete metric from last check and all trigger pattern metrics","tags":["trigger"]},"get":{"operationId":"get-trigger-metrics","parameters":[{"description":"Trigger ID","in":"path","name":"triggerID","required":true,"schema":{"default":"bcba82f5-48cf-44c0-b7d6-e1d32c64a88c","type":"string"}},{"description":"Start time for metrics retrieval","in":"query","name":"from","schema":{"default":"-10minutes","type":"string"}},{"description":"End time for metrics retrieval","in":"query","name":"to","schema":{"default":"now","type":"string"}}],"responses":{"200":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/dto.TriggerMetrics"}}},"description":"Trigger metrics retrieved successfully"},"400":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/api.ErrorResponse"}}},"description":"Bad request from client"},"404":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/api.ErrorResponse"}}},"description":"Resource not found"},"422":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/api.ErrorResponse"}}},"description":"Render error"},"500":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/api.ErrorResponse"}}},"description":"Internal server error"}},"summary":"Get metrics associated with certain trigger","tags":["trigger"]}},"/trigger/{triggerID}/metrics/nodata":{"delete":{"operationId":"delete-trigger-nodata-metrics","parameters":[{"description":"Trigger ID","in":"path","name":"triggerID","required":true,"schema":{"default":"bcba82f5-48cf-44c0-b7d6-e1d32c64a88c","type":"string"}}],"responses":{"200":{"content":{"application/json":{"schema":{"type":"object"}}},"description":"Trigger nodata metrics deleted successfully"},"400":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/api.ErrorResponse"}}},"description":"Bad request from client"},"404":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/api.ErrorResponse"}}},"description":"Resource not found"},"500":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/api.ErrorResponse"}}},"description":"Internal server error"}},"summary":"Delete all metrics from last data which are in NODATA state. It also deletes all trigger patterns of those metrics","tags":["trigger"]}},"/trigger/{triggerID}/render":{"get":{"operationId":"render-trigger-metrics","parameters":[{"description":"Trigger ID","in":"path","name":"triggerID","required":true,"schema":{"default":"bcba82f5-48cf-44c0-b7d6-e1d32c64a88c","type":"string"}},{"description":"Target metric name","in":"query","name":"target","schema":{"default":"t1","type":"string"}},{"description":"Start time for metrics retrieval","in":"query","name":"from","schema":{"default":"-1hour","type":"string"}},{"description":"End time for metrics retrieval","in":"query","name":"to","schema":{"default":"now","type":"string"}},{"description":"Timezone for rendering","in":"query","name":"timezone","schema":{"default":"UTC","type":"string"}},{"description":"Plot theme","in":"query","name":"theme","schema":{"default":"light","type":"string"}},{"description":"Fetch real-time data","in":"query","name":"realtime","schema":{"default":false,"type":"boolean"}}],"responses":{"200":{"content":{"image/png":{"schema":{"format":"binary","type":"string"}}},"description":"Rendered plot image successfully"},"400":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/api.ErrorResponse"}}},"description":"Bad request from client"},"404":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/api.ErrorResponse"}}},"description":"Resource not found"},"500":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/api.ErrorResponse"}}},"description":"Internal server error"}},"summary":"Render trigger metrics plot","tags":["trigger"]}},"/trigger/{triggerID}/setMaintenance":{"put":{"operationId":"set-trigger-maintenance","parameters":[{"description":"Trigger ID","in":"path","name":"triggerID","required":true,"schema":{"default":"bcba82f5-48cf-44c0-b7d6-e1d32c64a88c","type":"string"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/dto.TriggerMaintenance"}}},"description":"Maintenance data","required":true},"responses":{"200":{"content":{"application/json":{"schema":{"type":"object"}}},"description":"Trigger or metric have been scheduled for maintenance"},"400":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/api.ErrorResponse"}}},"description":"Bad request from client"},"404":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/api.ErrorResponse"}}},"description":"Resource not found"},"500":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/api.ErrorResponse"}}},"description":"Internal server error"}},"summary":"Set metrics and the trigger itself to maintenance mode","tags":["trigger"]}},"/trigger/{triggerID}/state":{"get":{"operationId":"get-trigger-state","parameters":[{"description":"Trigger ID","in":"path","name":"triggerID","required":true,"schema":{"default":"bcba82f5-48cf-44c0-b7d6-e1d32c64a88c","type":"string"}}],"responses":{"200":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/dto.TriggerCheck"}}},"description":"Trigger state fetched successful"},"404":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/api.ErrorResponse"}}},"description":"Resource not found"},"422":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/api.ErrorResponse"}}},"description":"Render error"},"500":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/api.ErrorResponse"}}},"description":"Internal server error"}},"summary":"Get the trigger state as at last check","tags":["trigger"]}},"/trigger/{triggerID}/throttling":{"delete":{"operationId":"delete-trigger-throttling","parameters":[{"description":"Trigger ID","in":"path","name":"triggerID","required":true,"schema":{"default":"bcba82f5-48cf-44c0-b7d6-e1d32c64a88c","type":"string"}}],"responses":{"200":{"description":"Trigger throttling has been deleted"},"404":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/api.ErrorResponse"}}},"description":"Resource not found"},"500":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/api.ErrorResponse"}}},"description":"Internal server error"}},"summary":"Deletes throttling for a trigger","tags":["trigger"]},"get":{"operationId":"get-trigger-throttling","parameters":[{"description":"Trigger ID","in":"path","name":"triggerID","required":true,"schema":{"default":"bcba82f5-48cf-44c0-b7d6-e1d32c64a88c","type":"string"}}],"responses":{"200":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/dto.ThrottlingResponse"}}},"description":"Trigger throttle info retrieved"},"404":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/api.ErrorResponse"}}},"description":"Resource not found"},"422":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/api.ErrorResponse"}}},"description":"Render error"}},"summary":"Get a trigger with its throttling i.e its next allowed message time","tags":["trigger"]}},"/user":{"get":{"operationId":"get-user-name","responses":{"200":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/dto.User"}}},"description":"User name fetched successfully"},"422":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/api.ErrorResponse"}}},"description":"Render error"}},"summary":"Gets the username of the authenticated user if it is available","tags":["user"]}},"/user/settings":{"get":{"operationId":"get-user-settings","responses":{"200":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/dto.UserSettings"}}},"description":"Settings fetched successfully"},"422":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/api.ErrorResponse"}}},"description":"Render error"},"500":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/api.ErrorResponse"}}},"description":"Internal server error"}},"summary":"Get the user's contacts and subscriptions","tags":["user"]}}},
    "openapi": "3.1.0",
    "tags": [
        {"description":"APIs for working with Moira contacts. For more details, see \u003chttps://moira.readthedocs.io/en/latest/installation/webhooks_scripts.html#contact/\u003e","name":"contact"},
        {"description":"View Moira's runtime configuration. For more details, see \u003chttps://moira.readthedocs.io/en/latest/installation/configuration.html\u003e","name":"config"},
        {"description":"APIs for interacting with notification events. See \u003chttps://moira.readthedocs.io/en/latest/user_guide/trigger_page.html#event-history/\u003e for details","name":"event"},
        {"description":"interact with Moira states/health status. See \u003chttps://moira.readthedocs.io/en/latest/user_guide/selfstate.html#self-state-monitor/\u003e for details","name":"health"},
        {"description":"manage notifications that are currently in queue. See \u003chttps://moira.readthedocs.io/en/latest/user_guide/hidden_pages.html#notifications/\u003e","name":"notification"},
        {"description":"APIs for interacting with graphite patterns in Moira. See \u003chttps://moira.readthedocs.io/en/latest/development/architecture.html#pattern/\u003e","name":"pattern"},
        {"description":"APIs for managing a user's subscription(s). See \u003chttps://moira.readthedocs.io/en/latest/development/architecture.html#subscription/\u003e to learn about Moira subscriptions","name":"subscription"},
        {"description":"APIs for managing tags (a grouping of tags and subscriptions). See \u003chttps://moira.readthedocs.io/en/latest/user_guide/subscriptions.html#tags/\u003e","name":"tag"},
        {"description":"APIs for interacting with Moira triggers. See \u003chttps://moira.readthedocs.io/en/latest/development/architecture.html#trigger/\u003e to learn about Triggers","name":"trigger"},
        {"description":"APIs for interacting with Moira teams","name":"team"},
        {"description":"APIs for interacting with Moira subscriptions owned by certain team","name":"teamSubscription"},
        {"description":"APIs for interacting with Moira contacts owned by certain team","name":"teamContact"},
        {"description":"APIs for interacting with Moira users","name":"user"}
    ]
}`

// SwaggerInfo holds exported Swagger Info so clients can modify it
var SwaggerInfo = &swag.Spec{
	Version:          "master",
	Title:            "Moira Alert",
	Description:      "",
	InfoInstanceName: "swagger",
	SwaggerTemplate:  docTemplate,
	LeftDelim:        "{{",
	RightDelim:       "}}",
}

func init() {
	swag.Register(SwaggerInfo.InstanceName(), SwaggerInfo)
}
